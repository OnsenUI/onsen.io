---
title: 'Onsen UI Guide'
page: 'guide'
needHelp: true
autotoc: true
---

<h2 class="doc-page-header doc-page-header-guide">Onsen UI 1.xガイド</h2>

<div class="info">
新しく登場したOnsen UI 2では、マテリアルデザインの対応やReact、Angular 2サポートなどの新しい機能が備わっています。現在リリース候補版が提供されており、詳細については<a href="https://onsen.io/v2/docs/js.html">Version 2ドキュメント（英語）</a>を参照してください。
</div>

<%- @markdown => %>
このドキュメントは最新版のOnsen UI 1.xを対象に記述しています。Onsen UIのバージョンによる違いについては、[Change Log](https://github.com/OnsenUI/OnsenUI/blob/master/CHANGELOG.md)を参照してください。

<h3 id="LoadingOnsenUIinYourProject">Onsen UIをプロジェクトに組み込む</h3>

ヒント: Onsen UIの組み込み方法については、[Getting Startedガイド](/guide/getting_started.html)も参考にしてください。

Onsen UIはAngularJSを用いてHTML5のCustom Elements対応を行っていますが、AngularJSの理解は**必須ではありません**。Onsen UIは、jQueryやBackbone.jsといったすべてのJavaScriptフレームワークと共に利用することができます。一方で、AngularJSと組み合わせることで、より高度な連携を行うことも可能です。

<h4 id="UsingOnsenUIwithAngularJS">AngularJSからOnsen UIを使う</h4>

Onsen UIはAngularJSの上に作られています。そのため、AngularJSのユーザーであれば、下記のようにしてOnsen UIを使うことができます。

```html
<!doctype html>
<html lang="en" ng-app="my-app">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="lib/onsen/css/onsenui.css"/>
    <link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css"/>
    <script src="lib/onsen/js/angular/angular.js"></script>
    <script src="lib/onsen/js/onsenui.js"></script>
    <script>
      var module = ons.bootstrap('my-app', ['onsen']);
      module.controller('AppController', function($scope) { });
      module.controller('PageController', function($scope) {
        ons.ready(function() {
          // Init code here
        });
      });
    </script>
  </head>
  <body ng-controller="AppController">
    <ons-navigator var="navigator">
      <ons-page ng-controller="PageController">
        <!-- Page content -->
      </ons-page>
    </ons-navigator>
  </body>
</html>
```

<h4 id="UsingOnsenUIwithjQueryorwithanyJSframeworks">AngularJSを意識せずにOnsen UIを扱う</h4>

Onsen UIはAngularJSを学ばない状態でも使い始めることができます。下記のサンプルは、Onsen UIを通常のJavaScriptのような記述で利用しています。

```html
<!doctype html>
<meta charset="utf-8">
<link rel="stylesheet" href="lib/onsen/css/onsenui.css">
<link rel="stylesheet" href="lib/onsen/css/onsen-css-components.css">
<script src="lib/onsen/js/angular/angular.js"></script>
<script src="lib/onsen/js/onsenui.js"></script>
<script>
  ons.bootstrap();
  ons.ready(function() {
    // Add another Onsen UI element
    var content = document.getElementById("my-content");
    content.innerHTML="<ons-button>Another Button</ons-button>";
    ons.compile(content);
  });
</script>
<body>
  <ons-navigator title="Navigator" var="myNavigator">
    <ons-page>
      <ons-button onclick="myNavigator.pushPage('page2.html')">Next Page</ons-button>
      <div id="my-content"></div>
    </ons-page>
  </ons-navigator>
</body>
```

このコードでは、2つの特長があります。1つはOnsen UIコンポーネントに付与された`var`属性、そして`ons.compile`関数です。

コンポーネントを定義する時に`var`属性を指定すると、そのコンポーネントのオブジェクトは`window`オブジェクトのプロパティとして定義されます。詳細については[コードからコンポーネントオブジェクトにアクセスする](#from-code)を参照してください。

`ons.compile`関数を使うと、Onsen UIコンポーネントが定義されたHTMLコードを通常のDOM構造に変換します。（現状では）ほとんどのブラウザーはCustom Elementsをサポートしていないため、この関数を使ってOnsen UIコンポーネントをブラウザーに対応させることが必要です。

<h3 id="ManagingMultiplePages">複数のページを管理する</h3>

アプリ開発に着手する前に、UIパターンを検討することが重要となります。Onsen UIはよく使われる4種類の画面パターンに対応しています。もちろん、スライディングメニュー方式のアプリにページナビゲーションを組み込むなど、複数の画面パターンを組み合わせることも一般的です。

<h4 id="Navigationpattern">ナビゲーション型</h4>

ページが親子関係を持つ場合に一般的に用いられるパターンです。子ページへは、ボタンのタップや、リスト要素の選択などからリンクされます。ナビゲーションパターンを実装するためには、[`<ons-navigator>`](/reference/ons-navigator.html)と[`<ons-toolbar>`](/reference/ons-toolbar.html)を組み合わせます。

<h4 id="Slidingmenupattern">スライディングメニュー型</h4>

メニュー型とも呼ばれ、同じ階層に複数のページを配置するような場合に最適です。Onsen UIでは、[`<ons-sliding-menu>`](/reference/ons-sliding-menu.html)コンポーネントで実装します。スワイプ操作でメニューの表示/非表示を制御することもできます。

<h4 id="Tabbarpattern">タブバー型</h4>

iPhoneやiPadアプリでよく見られ、ページの下部にタブバーを配置したパターンになります。通常、タブバーにはいくつかの項目（アイテム）が並び、アイコンとテキストで表現されます。複数の機能を提供したいような場合に用いられます。Onsen UIでタブバーを実装するには、[`<ons-tabbar>`](/reference/ons-tabbar.html)コンポーネントを使用します。

<h4 id="Splitviewpattern">スプリットビュー型</h4>

タブレットのような大きな画面を持つデバイスや、画面を横向きにしたときに用いられます。スプリットビュー型では、画面を左と右に分割し、別々の情報を表示できます。[`<ons-split-view>`](/reference/ons-split-view.html)コンポーネントを用います。小さな画面を持つデバイスや、縦向きにした場合に、自動的に画面分割を畳む機能も有しています。

<h3 id="PageNavigation">ページナビゲーション</h3>

Onsen UIでは、[`<ons-navigator>`](/reference/ons-navigator.html)コンポーネントでページナビゲーションを実装します。`ons-navigator`は画面要素を持たない、ナビゲーションコントローラーです。そのため、一般的にはページ内にツールバーを表示するために[`<ons-toolbar>`](/reference/ons-toolbar.html)を組み合わせます。ナビゲーターは画面遷移をする際に自動的にアニメーションを適用し、親子関係を持つページを作成するために利用できます。

<h4 id="ons-navigatoroverview">`<ons-navigator>`の概要</h4>

[`<ons-navigator>`](/reference/ons-navigator.html)コンポーネントは、ページスタックの管理機能と、画面遷移時のアニメーション効果を提供します。ページスタックに新しいページが追加されると、自動的にアニメーションが行われ、ページが表示されます。スタック内のすべてのページは[`<ons-page>`](/reference/ons-page.html)要素で表されます。そのため、[`<ons-navigator>`](/reference/ons-navigator.html)コンポーネントの直下には[`<ons-page>`](/reference/ons-page.html)コンポーネントのみ配置できます。

通常は、ページ上部にツールバーを設置します。そのため、[`<ons-page>`](/reference/ons-page.html)の下には[`<ons-toolbar>`](/reference/ons-toolbar.html)コンポーネントを配置するのが一般的です。ツールバーには、戻るボタンを設置したり、ページタイトルを描画したりします。

<%- @partial('codepen.html.eco', {id: "yrhtv"}) %>

<h4 id="Displayanewpage">新しいページを表示</h4>

スタックに新しいページを追加するには、ナビゲーターオブジェクトの`pushPage()`メソッドを使用します。このメソッドを呼び出すために、`<ons-navigator>`の`var`属性を使用し、ナビゲーターオブジェクトをJavaScriptから呼び出せるように指定します。

```html
<ons-navigator var="myNavigator"></ons-navigator>
<script>
var options = {
  animation: 'slide', // アニメーションの種類
  onTransitionEnd: function() {} // アニメーションが完了した際によばれるコールバック
};
myNavigator.pushPage("page2.html", options);
</script>
```

上記のコードのように、遷移時のオプションを`pushPage()`メソッドに渡すことができます。

<h4 id="Returningfromapage">一つ前のページに戻る</h4>

`popPage()`メソッドを呼ぶと、ページスタックから最前面のページが削除され、一つ前のページに戻ります。

```html
<ons-navigator var="myNavigator"></ons-navigator>
<script>
myNavigator.popPage();
</script>
```

<h4 id="Transitionanimation">遷移アニメーションの指定</h4>

`pushPage()`と`popPage()`メソッドでは、下記のアニメーションを選択できます: `slide`、`lift`、`fade`、`none`。

1. スライド（タイプ: `slide`、デフォルト）

  アニメーションの表現は、ネイティブ遷移と合わせるためにiOSとAndroidで異なるものとなります。

  ```javascript
  navigator.pushPage("page2.html", { animation: "slide" }):
  ```

2. リフトアップ / リフトダウン（タイプ: `lift`）

  ```javascript
  navigator.pushPage("page2.html", { animation: "lift" }):
  ```

3. フェードイン / フェードアウト（タイプ: `fade`）

  ```javascript
  navigator.pushPage("page2.html", { animation: "fade" }):
  ```

4. アニメーションなし（タイプ: `none`）

  ```javascript
  navigator.pushPage("page2.html", { animation: "none" }):
  ```

<%- @partial('codepen.html.eco', { id: "FLsIE" } ) %>

さらに、遷移アニメーションはカスタマイズできます。その場合は`NavigatorTransitionAnimator`オブジェクトを作成し、`animation`パラメータに指定してください。

```javascript
pushPage('page2.html', {animation: new MyCustomAnimator})
```

詳細については、`framework/view`ディレクトリ内にある`NavigatorTransitionAnimator`を参照してください。

<h4 id="Managingpagestacks">ページスタックの管理</h4>

ナビゲーターにはページスタックを管理するためのAPIが提供されます。これらのAPIを使うことで、より細かい挙動をカスタマイズできます。

<h5 id="navigatorgetCurrentPage">navigator.getCurrentPage()</h5>

現在のページの`page`オブジェクトを取得します。`page`オブジェクトは、下記のプロパティと関数を有しています。

- `destroy()`メソッド

  このメソッドを呼び出すと、ページスタックからページが削除されます。

- `options`オブジェクト

  ページの設定パラメータを保有するオブジェクトです。詳細については`pushPage()`メソッドの説明を参照してください。

```javascript
myNavigator.pushPage("page2.html", { param1: "value1", param2: "value2" });
var page = myNavigator.getCurrentPage();
console.log(page.options.param1); // "value1"が戻ります
```

<h5 id="navigatorgetPages">navigator.getPages()</h5>

ナビゲーターが保有する`page`オブジェクトの一覧を返します。`page`オブジェクトの使い方については、`navigator.getCurrentPage()`メソッドの説明を参照してください。

```javascript
// ページスタックの上から2番目のページを削除する例
var pages = navigator.getPages();
pages[pages.length - 2].destroy();
// popPage()を行うとpages[pages.length - 3]のページに戻ります
```

<h5 id="navigatorInsertPage">navigator.insertPage(index, page, options)</h5>

ページスタックの`index`パラメータで指定した場所にページを追加します。`0`を指定すると、ページスタックの最後（最下層）にページを追加します。また、マイナス値を指定すると、上からの順番で計算されます。たとえば、`-1`を指定すると上から2番目にページが追加されます。`page`と`options`パラメータは、`pushPage()`メソッドと同様に指定します。

<%- @partial('codepen.html.eco', { id: "fhdjg" } ) %>

<h5 id="navigatorReplacePage">navigator.replacePage(page, options)</h5>

現在表示中のページをを指定したページに置き換えます。`options`パラメータは`navigator.pushPage` APIと同様です。

<h5 id="navigatorresetToPagepageoptions">navigator.resetToPage(page, options)</h5>

ページスタックをクリアし、指定した新しいページをスタックに追加します。`options`パラメータは`navigator.pushPage` APIと同様です。

<h4 id="Addingatoolbar">ツールバーの追加</h4>

ツールバーは`<ons-toolbar>`コンポーネントとして定義されます。下記にツールバーの例を掲載します。

```html
<ons-toolbar>
  <div class="left">
    <ons-back-button>戻る</ons-back-button>
  </div>
  <div class="center">タイトル</div>
  <div class="right">
    <ons-toolbar-button>
      <ons-icon icon="fa-bars">
    </ons-toolbar-button>
  </div>
 </ons-toolbar>
```

<%- @partial('codepen.html.eco', { id: "aHmGL" } ) %>

ツールバーは左、中央、右の3つに分けられ、それぞれに対応したクラス名（`left`、`center`、`right`）として指定できます。[`<ons-icon>`](/reference/ons-icon.html)でアイコンを表示したり、[`<ons-toolbar-button>`](/reference/ons-toolbar-button.html)や[`<ons-back-button>`](/reference/ons-back-button.html)コンポーネントでボタンを配置できます。HTMLを直接記述することもできます。

ツールバーの表示スタイルは`modifier`属性で変更でき、`android`もしくは`ios`を指定できます。指定がない場合は、プラットフォームに適したデザインを自動的に適用します。`fixed-style`属性を指定すると、プラットフォームにかかわらずスタイルが固定となります。

`<ons-toolbar>`コンポーネントを用いた例を紹介します。

1. ボタンとアイコンを用いた例

  ```html
  <ons-toolbar>
    <div class="left"><ons-toolbar-button>左ボタン</ons-toolbar-button></div>
    <div class="center">ボタンとアイコン</div>
    <div class="right"><ons-toolbar-button><ons-icon icon="fa-bars"></ons-icon></ons-toolbar-button></div>
  </ons-toolbar>
  ```

2. 検索ボックスを用いた例

  ```html
  <ons-toolbar>
    <div class="left"><ons-back-button>戻る</ons-back-button></div>
    <div class="center">検索</div>
    <div class="right"><input type="search" class="search-input" placeholder="キーワード"></input></div>
  </ons-toolbar>
  ```

3. カスタムなイメージを表示する例

  ```html
  <ons-toolbar>
    <div class="left"><ons-back-button>戻る</ons-back-button></div>
    <div class="center"><img src="custom_title.png"></div>
    <div class="right"><ons-search-input></ons-search-input></div>
  </ons-toolbar>
  ```

<h5 id="InlineToolbar">ツールバーのインライン表示</h5>

ツールバーをヘッダー外に設置したい場合は、[`<ons-toolbar>`](/reference/ons-toolbar.html)や[`<ons-bottom-toolbar>`](/reference/ons-bottom-toolbar.html)に`inline`属性を指定します。

```html
<ons-toolbar inline>
   <div class="center">Top Inline Toolbar</div>
   <div class="left">Label</div>
</ons-toolbar>
<ons-bottom-toolbar inline>
   <div class="center">Bottom Inline Toolbar</div>
   <div class="left">Label</div>
</ons-bottom-toolbar>
```

<h4 id="Androidbackbutton">Androidの戻るボタンへの対応</h4>

Onsen UIではAndroidの戻るボタンにも対応します。アプリがAndroidデバイス上で実行されていて、Cordovaが用いられている場合は、戻るボタンをタップするとナビゲーターの`popPage()`メソッドが呼ばれます。

また、iOS端末に限ってツールバーに戻るボタンを表示したい場合は、[`<ons-if-platform>`](/reference/ons-if-platform.html)を使用すると良いでしょう。

```html
<ons-toolbar>
  <div class="left"><ons-back-button ons-if-platform="ios">戻る</ons-back-button></div>
  <div class="center">ページタイトル</div>
</ons-toolbar>
```

戻るボタンの対応についてより詳細にカスタマイズしたい場合は、[戻るボタンへの対応](#HandlingBackButton)を参照してください。

<h4 id="Navigationevents">ナビゲーターのイベント</h4>

[`<ons-navigator>`](/reference/ons-navigator.html)には、特定の操作の際にイベントを発行する仕組みが備わっています。それを用いると、たとえば特定の条件においてはページ遷移をキャンセルするといった処理を記述することができます。

`prepush`、`postpush`、`prepop`、`postpop`の4つのイベントがナビゲーターに定義されています。これらは`pushPage`もしくは`popPage`の前あるいは後に発火され、コールバック関数が呼び出されます。

コールバック関数は、`event`オブジェクトを受け取ります。`event`オブジェクトでは、下記に説明するいくつかのプロパティとメソッドが提供されます。たとえば、下記のコードは`pushPage`の実行をキャンセルすることができます。

```javascript
ons.ready(function() {
  myNavigator.on('prepush', function(event) {
    var page = event.currentPage; // 現在のページオブジェクトを取得する
    if (needsCancel) {
      event.cancel(); // 画面遷移をキャンセルする
    }
  });
});
```

<h5 id="prepushandprepopevent">`prepush`と`prepop`イベント</h5>

`prepush`は、pushPage、replacePage、resetToPageの前に発火します。`prepop`は、popPageの前に発火します。
`event`オブジェクトには、下記のパラメータが備わっています。

- `currentPage`: 現在の`page`オブジェクト。詳細は、[ページスタックを管理する](#managing-page-stacks)を参照してください
- `cancel()`: 画面遷移をキャンセルする
- `navigator`: 保有する`<ons-navigator>`オブジェクト

<h5 id="postpushandpostpopevent">`postpush`と`postpop`イベント</h5>

`postpush`は、pushPage、replacePage、resetToPageの後に発火します。`postpop`は、popPageの後に発火します。
`event`オブジェクトには、下記のパラメータが備わっています。

- `leavePage`: 現在のページの`page`オブジェクト
- `enterPage`: 新しいページの`page`オブジェクト
- `navigator`: 保有する`<ons-navigator>`オブジェクト

<h3 id="UsingSlidingMenu">スライディングメニュー</h3>

スライディングメニューは2つのページで構成され、それぞれ`main-page`と`menu-page`という形で指定されます。`menu-page`はサイドページとも呼ばれ、通常は隠れており画面端から出現します。ボタンをタップしたり、画面端からスワイプすることで表示することができます。

`menu-page`には、任意のHTMLコンテンツを含むことができます。通常は、別のページへのリンクとなるメニュー画面が一般的です。`main-page`にはメインコンテンツが表示されます。[`<ons-navigator>`](/reference/ons-navigator.html)と組み合わせることで、さらに深い階層のページを持つことも可能です。

<h4 id="onsslidingmenuoverview">`<ons-sliding-menu>`の概要</h4>

[`<ons-sliding-menu>`](/reference/ons-sliding-menu.html)コンポーネントでは`main-page`と`menu-page`を属性として指定します。また、`side`属性を用いると、`menu-page`を画面のどちら側に設置するかを指定できます。

それぞれのページは、`<ons-sliding-menu>`タグの下に`menu`および`main`クラスを持った要素を作成することで指定できます。

```html
<ons-sliding-menu>
  <div class="menu">
    <ons-page>
    メニューページの内容
  </ons-page>
  </div>
  <div class="main">
    <ons-page>
    メインページの内容
  </ons-page>
  </div>
</ons-sliding-menu>
```

もう一つの方法として、下記のようにテンプレートを指定することもできます。

```html
<ons-sliding-menu
  main-page="page1.html"
  menu-page="menu.html"
  side="left"
  var="menu">
</ons-sliding-menu>

<script type="text/ons-template" id="page1.html">
  <ons-page>
    <ons-toolbar>
      <div class="left">
        <ons-toolbar-button ng-click="menu.toggleMenu()"><ons-icon icon="fa-bars"></ons-icon></ons-toolbar-button>
      </div>
      <div class="center">Page 1</div>
    </ons-toolbar>

    <h1 style="text-align: center">Page1</h1>
  </ons-page>
</script>

<script type="text/ons-template" id="page2.html">
  <ons-page>
    <ons-toolbar>
      <div class="left">
        <ons-toolbar-button onclick="menu.toggleMenu()"><ons-icon icon="fa-bars"></ons-icon></ons-toolbar-button>
      </div>
      <div class="center">Page 2</div>
    </ons-toolbar>

    <h1 style="text-align: center">Page2</h1>
  </ons-page>
</script>

<script type="text/ons-template" id="menu.html">
  <ons-list>
    <ons-list-item modifier="chevron" onclick="menu.setMainPage('page1.html', {closeMenu: true})">
      page1.html
    </ons-list-item>
    <ons-list-item modifier="chevron" onclick="menu.setMainPage('page2.html', {closeMenu: true})">
      page2.html
    </ons-list-item>
  </ons-list>
</script>
```
<%- @partial('codepen.html.eco', { id: "IDvFJ" } ) %>

<h4 id="Openingclosingmenu">メニューの表示 / 非表示</h4>

[`<ons-sliding-menu>`](/reference/ons-sliding-menu.html)コンポーネントでは、メニュー開閉のために下記のメソッドを用意しています。それらは`openMenu()`、`closeMenu()`そして`toggleMenu()`です。

アニメーション効果を無効にしたい場合は、`animation`パラメータに`none`を指定してください。

```javascript
mySlidingMenu.openMenu({
  animation: 'none'
});
```

<h5 id="SlidingMenuCloseOnTap">背景のタップで非表示にする</h5>

`<ons-sliding-menu>`の`close-on-tap`属性を使用すると、背景をタップするだけでメニューが自動的に非表示になります。

```html
<ons-sliding-menu close-on-tap>
</ons-sliding-menu>
```

<h4 id="SettingaboveandbehindpagebyJavaScript">JavaScriptからページを指定する</h4>

プログラムからページを指定する場合は、`setMainPage()`と`setMenuPage()`メソッドを使用します。これらのメソッドでは、2番目の引数にパラメータを指定できます。

  - `closeMenu`: 実行後にメニューを閉じる場合は`true`を指定します。
  - `callback`: アニメーションが完了したときにコールバック関数を実行します。

<h4 id="Swipesupport">スワイプとドラッグの対応</h4>

[`<ons-sliding-menu>`](/reference/ons-sliding-menu.html)コンポーネントに`swipeable`属性を指定すると、スワイプ操作でメニューを開いたり閉じたりする機能が追加されます。また、この機能を使う場合は、`swipe-target-width`と`max-slide-distance`もあわせて指定する必要があることに注意が必要です。

コンポーネントに`draggable`属性を指定すると、メニューを開いたり閉じたりする操作を、ドラッグ操作で行うことができます。

<h4 id="Animationtype">アニメーションの種類</h4>

`type`属性でアニメーションの種類を指定できます。現在は、`reveal`（デフォルト）、`push`、そして`overlay`に対応しています。

<h4 id="Slidingmenuevents">スライディングメニューのイベント</h4>

スライディングメニューには、`preopen`、`postopen`、`preclose`、`postclose`の4種類のイベントに対応します。

```html
<script>
ons.ready(function() {
  mySlidingMenu.on('preopen', function() {
    console.log("メニューページを開きます");
  });
});
</script>
<ons-sliding-menu var="mySlidingMenu">
```

<h3 id="UsingTabBar">タブバーを使う</h3>

タブバーは[`<ons-tabbar>`](/reference/ons-tabbar.html)と[`<ons-tab>`](/reference/ons-tab.html)コンポーネントを組み合わせて表現します。通常、タブバーは3から5つ程度のアイテムを保有しており、アイコンやラベルで表現できます。各タブバーのアイテムをタップすると、別のページに切り替わります。

<h4 id="onstabbaroverview">`<ons-tabbar>`の概要</h4>

タブバーを設置するには、[`<ons-tabbar>`](/reference/ons-tabbar.html)コンポーネントを使用します。[`<ons-tabbar>`](/reference/ons-tabbar.html)要素の下には、[`<ons-tab>`](/reference/ons-tab.html)のみを配置できます。

タブバーアイテムでは`icon`属性と`label`属性が指定できます。アイコンを表示する場合は、[`<ons-icon>`](/reference/ons-icon.html)と同様にアイコン名を指定します。

```html
<ons-tabbar>
  <ons-tab page="page1.html" label="Page 1" icon="fa-square" active="true"></ons-tab>
  <ons-tab page="page2.html" label="Page 2" icon="fa-square"></ons-tab>
  <ons-tab page="page3.html" label="Page 3" icon="fa-square"></ons-tab>
  <ons-tab page="page4.html" label="Page 4" icon="fa-square"></ons-tab>
  <ons-tab page="page5.html" label="Page 5" icon="fa-square"></ons-tab>
</ons-tabbar>
```

<%- @partial('codepen.html.eco', { id: "pGuDL" } ) %>

<h4 id="Tabbarcustomize">タブバーを上部に配置する</h4>

デフォルトでは、タブバーは画面下部に配置されます。Android端末のように上部にタブバーを設置するには、`position`属性に`top`を指定します。ただし、この属性は初期化時に指定された場合にのみ適用されます。

```html
<ons-tabbar position="top">
  <ons-tab page="page1.html" label="Page 1" icon="fa-square" active="true"></ons-tab>
  <ons-tab page="page2.html" label="Page 2" icon="fa-square"></ons-tab>
  <ons-tab page="page3.html" label="Page 3" icon="fa-square"></ons-tab>
</ons-tabbar>
```

ツールバーが配置されているページにタブバーを設置すると、ツールバーの下部に配置されます。

```html
<ons-page>
  <ons-toolbar>
    <div class="center">Page Title</div>
  </ons-toolbar>
  <ons-tabbar position="top">
    <ons-tab page="page1.html" icon="fa-square"></ons-tab>
    <ons-tab page="page2.html" icon="fa-square"></ons-tab>
    <ons-tab page="page3.html" icon="fa-square"></ons-tab>
  </ons-tabbar>
</ons-page>
```

<%- @partial('codepen.html.eco', { id: "CfnrG" } ) %>

<h4 id="Tabbarcustomize">タブのカスタマイズ</h4>

タブの見た目をカスタマイズするためには、[`<ons-tab>`](/reference/ons-tab.html)の属性を使用します。

<h5 id="Tabbarlabelandicon">ラベルとアイコンを表示する</h5>

タブにラベルとアイコンを表示するには、`label`属性と`icon`属性を指定します。

```html
<ons-tab label="Label" icon="fa-square"></ons-tab>
```

<h5 id="Tabbarcontents">任意のコンテンツを表示する</h5>

[`<ons-tab>`](/reference/ons-tab.html)内に任意のHTMLを記述することもできます。

```html
<ons-tabbar>
  <ons-tab page="home.html">
    <p>Home</p>
  </ons-tab>
  <ons-tab page="friends.html">
    <p>Friends</p>
  </ons-tab>
</ons-tabbar>
```

ただし、`label`や`icon`属性がすでに指定されている場合は、子要素は適用されないので注意してください。

<h5 id="Tabbaractiveinactive">アクティブと非アクティブ時のコンテンツを切り替える</h5>

タブがアクティブの時と非アクティブの時でコンテンツを切り替えることができます。そのためには、`ons-tab`内に`ons-tab-active`と`ons-tab-inactive`属性を持つ要素を定義してください。

```html
<ons-tab page="page.html">
  <div ons-tab-active>
    <!-- active時のみ表示されるコンテンツ -->
  </div>
  <div ons-tab-inactive>
    <!-- inactive時のみ表示されるコンテンツ -->
  </div>
</ons-tab>
```

<h5 id="TabbarPersistent">タブの切り替え時に再読み込みを行わない</h5>

[`<ons-tab>`](/reference/ons-tab.html)コンポーネントの`persistent`属性を使用すると、ユーザーがタブを切り替えたときにタブの内容がリロードされなくなります。コンテンツを動的に切り替えたい場合に使用してください。タブが変更されたことを知るには、[`postchange`](#Tabbarevents)イベントを使用すると良いでしょう。

<h4 id="Tabbarmethods">タブバーアイテムの管理</h4>

タブバーには、ページ管理をより詳細に行うためのJavaScript　APIが用意されています。これらのAPIを呼び出すには、[JavaScriptからコンポーネントのAPIを呼び出す](#CallingComponentAPIsfromJavaScript)を参考に`var`属性を使用する必要があります。

<h5 id="Settingactivetab">アクティブなタブを設定する</h5>

`setActiveTab(index, options)`メソッドを使うと、指定したページを表示できます。`index`パラメータにはタブページのインデックスを指定し、一番左は`0`になります。また、`options`には、下記のプロパティを指定して挙動を変更できます。

- `keepPage`: `true`を指定すると、新しいページを表示せずに、タブのインデックスだけ変更します。デフォルトは`false`です。
- `animation`: ページへの遷移アニメーションを指定します。現在は、`none`と`fade`を指定できます。デフォルトは`none`です。

<h5 id="Getcurrentactivetab">現在のアクティブなタブを取得する</h5>

`getActiveTabIndex()`メソッドは、アクティブタブのインデックス番号を取得します。アクティブタブがない場合は、`-1`を返します。

<h5 id="Loadpagewithoutchangingtheactivetab">アクティブなタブを変更しないでページを表示する</h5>

インデックスを変更せずにページの読み込みを行う場合は、`loadPage()`メソッドを使用します。

```javascript
tabbar.loadPage('newpage.html');
```

ただし、この場合は`prechange`および`postchange`イベントは発生しないので注意してください。

<h4 id="Tabbarevents">タブバーのイベント</h4>

[`<ons-tabbar>`](/reference/ons-tabbar.html)は`prechange`と`postchange`イベントを持ちます。これらのイベントは、ページが切り替わる前もしくは後に実行されます。イベントで使用できるパラメータは下記の通りです。

- `index`: 次ページのインデックス番号
- `tabItem`: ページを保有するオブジェクト

イベントをキャンセルする場合は、`prechange`イベントオブジェクトの`cancel()`メソッドを呼び出します。

```javascript
tabbar.on('prechange', function(event) {
  event.cancel();
});
```

<h3 id="UsingList">リストを使う</h3>

リストは多用されるUIパターンで、ビューに複数のコレクションを表示するときに使用します。Onsen UIでは、[`<ons-list>`](/reference/ons-list.html)と[`<ons-list-item>`](/reference/ons-list-item.html)コンポーネントを用いて表現します。

<h4 id="onslistoverview">`<ons-list>`の概要</h4>

リストを作成するには、[`<ons-list>`](/reference/ons-list.html)と[`<ons-list-item>`](/reference/ons-list-item.html)コンポーネントを使用します。また、[`<ons-list-header>`](/reference/ons-list-header.html)を用いると、リスト要素のヘッダーを表現できます。

<h4 id="Basiclist">基本的なリスト</h4>

下記に、[`<ons-list>`](/reference/ons-list.html)の例を掲載します。

<%- @partial('codepen.html.eco', { id: "yxcCt" } ) %>

<h4 id="Listwithrightarrowicon">右矢印付きのリスト</h4>

[`<ons-navigator>`](/reference/ons-navigator.html)と共に使用し、画面遷移を行う場合に使用します。

<%- @partial('codepen.html.eco', { id: "nIEvm" } ) %>

<h4 id="Listwithforms">フォームと共に使用する</h4>

リストは設定ページ等でも良く用いられます。下記に、フォームの要素と組み合わせた例を掲載します。

<%- @partial('codepen.html.eco', { id: "ohqDk" } ) %>

<h3 id="UsingLazyRepeat">レイジーリピート（無限スクロール）を使う</h3>

[`ons-lazy-repeat`](/reference/ons-lazy-repeat.html)コンポーネントを使うと、DOMには見えている範囲の項目だけが読み込まれます。項目が見えない状態では、DOMから自動的に取り除かれます。[`ons-lazy-repeat`](/reference/ons-lazy-repeat.html)を使うと、パフォーマンスが低下することなく、何百万もの要素を表示することができます。

<%- @partial('codepen.html.eco', { id: "QwrGBm" } ) %>

<h4 id="PreparingLazyRepeat">レイジーリピートのデリゲートを準備する</h4>

[`ons-lazy-repeat`](/reference/ons-lazy-repeat.html)を使用するためには、リストの情報を持つデリゲートオブジェクトを作成する必要があります。

<h5 id="DelegateAngularJS">AngularJSを用いてデリゲートを作成する</h5>

デリゲートオブジェクトは、ビューからアクセスするためにリストと同じコントローラのスコープに作成します。以下は、`MyDelegate`という名前のデリゲートオブジェクトを作成した例です。

```javascript
$scope.MyDelegate = {
  configureItemScope: function(index, itemScope) {
    console.log(index + "番目の要素を作成します");
    itemScope.item = {
      name: '要素 No.' + (index + 1)
    };
  },
  calculateItemHeight: function(index) {
    return 40;
  },
  countItems: function() {
    return 10000000;
  },
  destroyItemScope: function(index, scope) {
    console.log("要素No. " + index + "を削除します");
  }
};
```

* `configureItemScope`は、その要素に関する情報を返します。このメソッドは、要素の配列を用いて動的に作成されたり、呼び出されます。
* `calculateItemHeight`は、その要素の高さをピクセル単位で返します。各要素が別の高さを返すことができます。
* `countItems`は全体の要素数を返します。
* `destroyItemScope`は要素が取り除かれた場合に呼ばれるメソッドを指定できます。メモリーリークを防ぐために要素を削除したり、イベントリスナーを解除する場合に使用してください。

<h5 id="DelegateJQuery">jQueryを用いてデリゲートを作成する</h5>

```javascript
var MyDelegate = {
  createItemContent: function(index, oldContent) {
    console.log(index + "番目の要素を作成します");

    var $element = $("<span>要素 No."+(index+1)+"</span>");
    return $element[0];
  },
  calculateItemHeight: function(index) {
    return 40;
  },
  countItems: function() {
    return 10000000;
  },
  destroyItemContent: function(index, element) {
    console.log("要素 No." + index + "を削除します");
  }
}
```

* `createItemContent`は`index`で指定した要素の内容を、HTMLエレメントして返します。
* `calculateItemHeight`は要素の高さをピクセル単位で返します。各要素が別の高さを返すことができます。
* `countItems`は全体の要素数を返します。
* `destroyItemContent`は要素が取り除かれた場合に呼ばれるメソッドを指定できます。メモリーリークを防ぐために要素を削除したり、イベントリスナーを解除する場合に使用してください。

<h4 id="LazyRepeatInHTML">レイジーリピート機能をタグに付与する</h4>

[`ons-lazy-repeat`](/reference/ons-lazy-repeat.html)は属性として汎用的に使用できます。今回は`ons-list-item`に使用しますが、高さの計算ができる他のタグ（`<div>`タグなど）であれば、すべてのタグに使用できます。`ons-lazy-repeat`をタグに付与するには、下記の例のようにデリゲートを指定します。

AngularJSを使用する場合、通常通りitemプロパティにアクセスすることができます。

```html
<ons-list>
  <ons-list-item ons-lazy-repeat="MyDelegate">
    {{ item.name }}
  </ons-list-item>
</ons-list>
```

AngularJSを使用しない場合、コンテンツは`createItemContent`メソッドで生成されます。そのため、ビューには何も記述する必要がありません。

```html
<ons-list>
  <ons-list-item ons-lazy-repeat="MyDelegate">
  </ons-list-item>
</ons-list>
```

<h4 id="LazyRepeatAsync">非同期で内容を生成する</h4>

[`ons-lazy-repeat`](/reference/ons-lazy-repeat.html)を使うと、非同期で呼び出して生成するコンテンツを要素として表示することができます。これは、HTTPリクエストやデータベースから値を取得して表示するときに便利です。この実装を行う場合、リクエストの呼び出しが完了する前に要素が破棄された場合は、リクエストをキャンセルする必要があることに注意が必要です。

<h5 id="AsynchSampleAngularJS">AngularJSを用いた書き方</h5>

```javascript
configureItemScope: function(index, itemScope) {
  if (!itemScope.item) {
    itemScope.canceler = $q.defer();
    itemScope.item = {
      title: 'Item #' + (index + 1),
      label: '',
      desc: '',
      rand: Math.random()
    };

    $http.get('https://baconipsum.com/api/?type=meat-and-filler&sentences=1', {timeout: itemScope.canceler.promise})
    .success(function(data) {
      itemScope.item.desc = data[0];
      itemScope.item.label = data[0].substr(0, data[0].indexOf(" ")) + 'bacon';
    })
    .error(function() {
      itemScope.item.desc = 'No bacon lorem ipsum';
      itemScope.item.label = 'No bacon';
    });

  }
},
destroyItemScope: function(index, itemScope) {
  itemScope.canceler.resolve();
}
```

<%- @partial('codepen.html.eco', { id: "gbzLQW" } ) %>

<h5 id="AsynchSampleJQuery">AngularJSを使わない書き方</h5>

```javascript
createItemContent: function(index, oldContent) {
  if (oldContent) {
    return oldContent;
  }

  var $element = $("<div><span style='opacity: 0.7;'><ons-icon icon='fa-spinner' spin='true'></ons-icon> Loading bacon...</span></div>");

  var request = $.getJSON('https://baconipsum.com/api/?type=meat-and-filler&sentences=1&callback=?', function(data) {
    $element.text(data[0]);
  });

  $element.data('request', request);
  return $element[0];
},
destroyItemContent: function(index, element) {
  var request = $element.data('request');
  request.abort();
}
```

<%- @partial('codepen.html.eco', { id: "YPLpBW" } ) %>

<h3 id="UsingAlert">アラートダイアログを使う</h3>

Onsen UIでは、3種類の汎用的なアラートダイアログを簡単に表示することができます。また、[`<ons-alert-dialog>`](/reference/ons-alert-dialog.html)コンポーネントを用いてカスタムなアラートダイアログを用事することもできます。

<%- @partial('codepen.html.eco', { id: "Qwwxyp" } ) %>

アラートダイアログを簡単に表示するために、下記の関数を用意しています。

- アラートダイアログ

  `ons.notification.alert()`関数を呼び出すと、ボタンとテキストメッセージが含まれたダイアログを表示できます。メッセージはHTMLで記述することもできます。

  ```javascript
  ons.notification.alert({
    message: 'メッセージ',
    // もしくはmessageHTML: '<div>HTML形式のメッセージ</div>',
    title: 'ダイアログのタイトル',
    buttonLabel: 'OK',
    animation: 'default', // もしくは'none'
    // modifier: 'optional-modifier'
    callback: function() {
      // ボタンがタップされた
    }
  });
  ```

- 確認ダイアログ

  `ons.notification.confirm()`関数はアラートダイアログと似ていますが、複数のボタンを配置できます。

  ```javascript
  ons.notification.confirm({
    message: 'このダイアログを閉じてもいいですか？',
    // もしくは messageHTML: '<div>HTML形式のメッセージ</div>',
    title: 'ダイアログのタイトル',
    buttonLabels: ['はい', 'いいえ'],
    animation: 'default', // もしくは'none'
    primaryButtonIndex: 1,
    cancelable: true,
    callback: function(index) {
      // -1: キャンセルされた
      // 0-: 左から0ではじまるボタン番号
    }
  });
  ```

- 入力ダイアログ

  `ons.notification.prompt()`関数を使うと、テキスト入力ボックスを持つダイアログを作成できます。

<h4 id="ShowingAlertDialog">カスタムなアラートダイアログを表示する</h4>

[`<ons-alert-dialog>`](/reference/ons-alert-dialog.html)コンポーネントを使うと、自由にデザインしたアラートダイアログを表示できます。下記の例は、スタイルを修正したダイアログの例です。

```html
<ons-template id="alert-dialog.html">
<ons-alert-dialog var="alertDialog">
  <div class="alert-dialog-title"><strong style="color: #ff3333">深刻な問題が発生しました</strong></div>
  <div class="alert-dialog-content">
    エラーが発生しました。
  </div>
  <div class="alert-dialog-footer">
    <button class="alert-dialog-button" ng-click="alertDialog.hide(); alertDialog.show()">OK</button>
  </div>
</ons-alert-dialog>
</ons-template>

<script>
ons.ready(function() {
  ons.createAlertDialog('alert-dialog.html').then(function(alertDialog) {
    alertDialog.show();
  });
});
</script>
```

<%- @partial('codepen.html.eco', { id: "jEEKbm" } ) %>

上記の例のように、カスタムなアラートダイアログを表示する場合は、`ons.createAlertDialog()`関数を使用し、その関数の引数にテンプレートを指定します。テンプレートには[`<ons-alert-dialog>`](/reference/ons-alert-dialog.html)タグが含まれている必要があります。

`ons.createDialog()`関数が呼ばれると、`Promise`オブジェクトを作成し`AlertDialogView`オブジェクトを返します。`AlertDialogView`オブジェクトの使い方については、 in `<ons-dialog>`コンポーネントの[`DialogView`オブジェクトを使う](#UsingDialogViewObject)を参照してください。

<h3 id="UsingDialog">ダイアログを使う</h3>

[`<ons-dialog>`](/reference/ons-dialog.html)コンポーネントを使うと、汎用的なダイアログを表示できます。

<h4 id="ShowingDialog">ダイアログを表示する</h4>

ダイアログを表示するには、[`<ons-dialog>`](/reference/ons-dialog.html)タグを持つテンプレートを作成し、そのテンプレートを`ons.createDialog()`関数で指定します。この関数は戻り値として`Promise`オブジェクトを返し、そのコールバック関数を通じて`DialogView`オブジェクトを渡します。ダイアログを表示するには、この`DialogView`オブジェクトの`show()`メソッドを呼ぶ必要があります。

```html
<ons-template id="dialogcontent.html">
  <ons-dialog>
    HTMLコードを記述します
  </ons-dialog>
</ons-template>
<script>
ons.ready(function() {
  ons.createDialog('dialogcontent.html').then(function(dialog) {
    dialog.show();
  });
});
</script>
```

<%- @partial('codepen.html.eco', { id: "zxxaGa" } ) %>

`ons.createDialog()` メソッドには、`options`オブジェクトも渡すことができます。 その中の`options.parentScope`パラメータでは、ダイアログ内のスコープが継承するスコープオブジェクトを指定することができます。

```javascript
angular.module('myApp').controller('MyController', function($scope) {
  ons.ready(function() {
    ons.createDialog('dialog.html', {parentScope: $scope}).then(function(dialog) {
      $scope.dialog = dialog;
    });
  });

  // この変数は、ダイアログのスコープ内でも使えるようになります。
  $scope.myVariable = 'Hello!';
});
```

<h4 id="UsingDialogViewObject">`DialogView`オブジェクトを使う</h4>

`DialogView`オブジェクトを通じて、ダイアログの操作や情報を取得できます。下記のメソッドを有しています。

- `show(options)`、`hide(options)`

  ダイアログを開く、もしくは閉じます。`options`パラメータには、`animations`および`callback`パラメータを指定できます。

- `isShown()`

  ダイアログが表示されている場合は`true`を返します。

- `destroy()`

  ダイアログを非表示にし、関連するDOM要素をすべて除去します。

- `setDisabled(disabled)`、`isDisabled()`

  ダイアログを無効にし、ユーザーが操作できないようにします。

- `setCancelable(cancelable)`、`isCancelable()`

  ダイアログをキャンセルできるようにし、戻るボタンを押したときに自動的に閉じるようにします。

- `getDeviceBackButtonHandler()`

  戻るボタンのハンドラーを取得します。より詳細な情報については、[戻るボタンのサポート
](#HandlingBackButton)を参照してください。

<h4 id="DialogEvents">ダイアログのイベントを扱う</h4>

ダイアログの表示や非表示の際に、コールバック関数を指定できます。具体的には`show()`や`hide()`メソッドを呼ぶ際に、`callback`パラメータで指定します。

また、[`<ons-dialog>`](/reference/ons-dialog.html)および[`<ons-alert-dialog>`](/reference/ons-alert-dialog.html)コンポーネントでは、下記のイベントを受け取ることもできます。

- preshow、prehide

  ダイアログを表示する前、もしくは非表示にする前に呼ばれます。コールバック関数には`dialog`プロパティ（もしくは`alertDialog`プロパティ）と、`cancel`関数が渡されます。`cancel`関数を実行すると、その操作をキャンセルすることができます。

  ```javascript
  myDialog.on("preshow", function(e) {
    // e.dialogにはDialogViewオブジェクトが格納される
    e.cancel());
  });
  ```

- postshow、posthide

  ダイアログを表示した後、もしくは非表示にした後に呼ばれます。コールバック関数には、`dialog`プロパティ（もしくは`alertDialog`プロパティ）が渡されます。

<h3 id="UsingCarousel">カルーセルを使う</h3>

カルーセルを使うと、複数の要素を１つの要素の中に表示できます。カルーセルは全画面で表示したり、他の要素の中に組み込むことができます。

それぞれのカルーセルアイテムは[`<ons-carousel-item>`](/reference/ons-carousel-item.html)コンポーネントで表現されます。[`<ons-carousel>`](/reference/ons-carousel.html)コンポーネントは、複数の`<ons-carousel-item>`コンポーネントを格納するコンテナの役割を持ちます。

<h4 id="ShowingFullScreenCarousel">全画面のカルーセルを表示する</h4>

全画面のカルーセルを表示するには、[`<ons-carousel>`](/reference/ons-carousel.html)コンポーネントに`fullscreen`属性を指定します。

```html
<ons-carousel fullscreen swipeable overscrollable auto-scroll>
  <ons-carousel-item>
     カルーセルアイテム１
  </ons-carousel-item>
  <ons-carousel-item>
     カルーセルアイテム２
  </ons-carousel-item>
</ons-carousel>
```

<%- @partial('codepen.html.eco', { id: "xbbzOQ" } ) %>

<h4 id="ShowingCarouselInAPage">ページ内にカルーセルを表示する</h4>

カルーセルを他のコンポーネントの内部に表示する場合は、CSSを用いてその高さと幅を指定します。幅が指定されていない場合は、`100%`を指定したものとして扱われます。

```html
<ons-carousel style="height: 200px; width: 50%" swipeable overscrollable auto-scroll>
  <ons-carousel-item>
     カルーセルアイテム１
  </ons-carousel-item>
  <ons-carousel-item>
     カルーセルアイテム２
  </ons-carousel-item>
</ons-carousel>
```

<h4 id="CarouselIndicator">カルーセル上に別のコンテンツを表示する</h4>

インディケーター付きのカルーセルを表示する場合など、[`<ons-carousel>`](/reference/ons-carousel.html)コンポーネント上に何かの内容を表示したい場合があります。`<ons-carousel-cover>`コンポーネントを用いると、カルーセル上に必ず表示されるコンテンツを設置できます。

<h4 id="CustomizingCarousel">カルーセルのカスタマイズ</h4>

`<ons-carousel>`をカスタマイズすることで、様々な挙動を変更することができます。

<h5 id="InitialCarouselDisplay">カルーセルの初期表示アイテムを指定する</h5>

`initial-index`属性を使うと、最初に表示されるアイテムを番号で指定できます。インデックス番号は`0`から開始します。

```html
<ons-carousel style="height: 100px; width: 100px" initial-index="1" swipeable overscrollable auto-scroll>
  <ons-carousel-item>
     カルーセル要素１
  </ons-carousel-item>
  <ons-carousel-item>
     カルーセル要素２
  </ons-carousel-item>
</ons-carousel>
```

<%- @partial('codepen.html.eco', { id: "emmKpV" } ) %>

<h5 id="CarouselDirection">スクロール方向を変更する</h5>

カルーセルは左右もしくは上下にスクロールを切り替えられます。スクロール方向を切り替えるには、`direction`属性を使用します。値には、`horizontal`（デフォルト）もしくは`vertical`を指定できます。

<h5 id="CarouselOverscroll">オーバースクロール時のアニメーションを指定する</h5>

カルーセルのアイテムがオーバースクロールした際には、バウンドするアニメーションを付けることができます。この効果を設置するには、`overscrollable`属性を指定します。

<h5 id="CarouselMultipleItems">複数の要素を表示する</h5>

`item-width`もしくは`item-height`属性を指定すると、複数のカルーセルアイテムが表示された状態となります。`item-width`属性は`direction`属性が`horizontal`の場合、`item-height`は`vertical`が指定された場合に適用されます。デフォルトでは`100%`と解釈されるため、カルーセル内には1つのアイテムだけが表示されます

<%- @partial('codepen.html.eco', { id: "EaaRjp" } ) %>

<h5 id="OtherCarouselOptions">他のオプション</h5>

他にも、下記のようなオプションを用いて、挙動を変更することができます。

- `auto-scroll`属性

  この属性がセットされると、カルーセルアイテムは自動的にクロールされ、コンテナーに合わさります。

- `swipeable`および`draggable`属性

  カルーセルをスワイプで操作したり、ドラッグで操作できるようにします。

<h4 id="CarouselJavaScript">カルーセルをJavaScriptで制御する</h4>

カルーセルはJavaScriptから制御することもできます。そのためには、`<ons-carousel>`の`var`属性を指定して、カルーセルのメソッドを呼び出します。

<h5 id="CarouselJavascriptNavigation">アイテムをスクロールする</h5>

カルーセルの各アイテムをスクロールするには、下記のメソッドを使用します。

- `next(options)`、`prev(options)`

  次の（もしくは前の）アイテムに移動します。見つからない場合は、最初の（もしくは最後の）アイテムに移動します。

- `first(options)`、`last(options)`

  最初の、もしくは最後のアイテムに移動します。

- `setActiveCarouselItemIndex(index, options)`

  `index`で指定したアイテムを表示します。現在のアイテムの番号は、`getActiveCarouselItemIndex()`メソッドで取得できます。

すべてのメソッドは`options`パラメータを指定できます。このパラメータでは、`animation`および`callback`プロパティを渡すことができます。

```html
myCarousel.next({
  animation: "none",
  callback: function() {
    // スクロールが完了したときに実行される
  }
});
```

<h5 id="AddingCarouselItems">カルーセルアイテムをJavaScriptで追加する</h5>

`<ons-carousel-item>`コンポーネントを`<ons-carousel>`コンポーネントに追加した場合は、`refresh()`メソッドを読んでレイアウトを更新する必要があります。

<h4 id="CarouselEvents">カルーセルのイベントを扱う</h4>

`<ons-carousel>`コンポーネントでは、下記のイベントを扱うことができます。

- `postchange`

  アクティブなアイテムが変更した後に呼ばれます。コールバック関数には、`carousel`、`activeIndex`および`lastActiveIndex`プロパティを持つオブジェクトが渡されます。

  - `carousel`: カルーセルオブジェクトが格納されます。
  - `activeIndex`: 現在のアクティブなアイテムの番号が格納されます。
  - `lastActiveIndex`: 前のアクティブなアイテムの番号が格納されます。

  カルーセルが`auto-scroll`属性を持っていない場合は、これらのイベントは呼び出されません。また、各アイテムの大きさがコンテナの大きさと異なる場合にも呼び出されません。

- `refresh`

  カルーセルのレイアウトが変更されたり、`refresh()`メソッドが実行された場合に呼ばれます。

- `overscroll`

  項目がオーバースクロール状態になった場合に呼ばれます。コールバック関数には、`carousel`、`activeIndex`および`lastActiveIndex`プロパティを持つオブジェクトが渡されます。

  - `carousel`: カルーセルオブジェクトが格納されます。
  - `direction`: オーバースクロールの方向（`left`、`right`、`up`もしくは`down`のいずれか）が格納されます。
  - `activeIndex`: 現在のアクティブなアイテムの番号が格納されます。
  - `waitToReturn()`: Promiseオブジェクトをとり、それが解決されるまでスクロールが戻らないように指示できます。

  下記の例は`waitToReturn(promise)`メソッドを使用して、処理が完了するまでオーバースクロール状態を維持する例です。

  ```
  carousel.on('overscroll', function(event) {
    var deferred = $q.defer(); // AngularJSの$qサービスを使用しています
    event.waitToReturn(deferred.promise);
    window.setTimeout(function() {
      deferred.resolve();
    }, 3000);
    // 3秒間カルーセルはオーバースクロール状態を維持します
  })
  ```

  <%- @partial('codepen.html.eco', { id: "ByPLyP" } ) %>

<h3 id="UsingModal">モーダルを使う</h3>

[`<ons-modal>`](/reference/ons-modal.html)コンポーネントを使うと、モーダル画面が表示されている間は外の入力操作を禁止することができます。プログレスバーを表示したり、ユーザーの選択を確実に行う場合などに使用されます。

[`<ons-modal>`](/reference/ons-modal.html)コンポーネント内には自由にHTMLを記述できます。その内容は、`toggle()`や`show()`メソッドを呼び出すことで表示されます。

<%- @partial('codepen.html.eco', { id: "devIg" } ) %>


<h3 id="UsingPopover">ポップオーバーを使う</h3>

ポップオーバーは、画面上にポップアップされて表示されるコンポーネントです。[`<ons-popover>`](/reference/ons-popover.html)コンポーネントを用いてポップオーバーを表示できます。

<%- @partial('codepen.html.eco', { id: "ZYYRKo" } ) %>

<h4 id="ShowingPopover">ポップオーバーを表示する</h4>

ポップオーバーを表示するには、[`<ons-popover>`](/reference/ons-popover.html)タグを用いてHTMLを記述し、そのポップオーバーを`ons.createPopover()`関数を呼び出します。

ポップオーバーを表示する例は下記の通りです。

```html
<ons-template id="popover.html">
  <ons-popover
  style="height: 200px; width: 200px"
  animation="fade">
      <ons-page>
        ポップオーバーの内容
      </ons-page>
  </ons-popover>
</ons-template>
<script>
ons.ready(function() {
  var targetElement = document.getElementById("myButton");
  var popover = ons.createPopover('popover.html')
  .then(function(popover) {
      popover.show(targetElement);
    });
});
</script>
```

`ons.createPopover()`メソッドには、`options`オブジェクトも渡すことができます。 その中の`options.parentScope`パラメータでは、ポップオーバー内のスコープが継承するスコープオブジェクトを指定することができます。

```javascript
angular.module('myApp').controller('MyController', function($scope) {
  ons.ready(function() {
    ons.createPopover('popover.html', {parentScope: $scope}).then(function(popover) {
      $scope.popover = popover;
    });
  });

  // この変数は、ポップオーバーのスコープ内でも使えるようになります。
  $scope.myVariable = 'Hello!';
});
```

`ons.createPopover()`関数が呼ばれると、下記のメソッドを持つ`PopoverView`オブジェクトが`Promise`形式で返されます。

- `show(target[, options])`

  指定した`target`の位置に、ポップオーバーを表示します。`target`には、`DomElement`、クエリセレクターもしくはAngularJSの`$event`を指定できます。

  `options`には、下記のプロパティを指定できます。

  - `animation`: アニメーション方法を`none`もしくは`fade`で指定できます。

- `hide()`

  ポップオーバーを非表示にします。不要になった場合は、`destroy()`メソッドを呼び出してメモリリークを回避してください。

<h4 id="CustomizingPopover">ポップオーバーのカスタマイズ</h4>

[`<ons-popover>`](/reference/ons-popover.html)のカスタマイズには、下記の属性を使用できます。

<h5 id="PopoverAppearance">外見を変更する</h5>

`modifier`を用いると、ポップオーバーのデザインを変更できます。ポップオーバーでは、標準で`android`および`ios`に対応しています。独自のCSSスタイルを適用したい場合は、`modifier`属性に任意の名前を指定します。

<%- @partial('codepen.html.eco', { id: "emmKBr" } ) %>

<h5 id="PopoverDirections">開く方向を指定する</h5>

ポップオーバーの開き方を変更するには、`direction`属性を指定します。方向には、`up`、`down`、`left`もしくは`right`から1つ、もしくは複数の方向を空白区切りで指定できます。`direction`属性が指定されない場合は、最適な方向で開きます。

<h4 id="PopoverEvents">ポップオーバーのイベントを扱う</h4>

`<ons-popover>`には下記のイベントが提供されます。

- `preshow`、`prehide`

  ポップオーバーを表示する前、もしくは非表示にする前に呼ばれます。コールバック関数には、下記のプロパティを持ったオブジェクトが返ります。

  - `popover`: ポップオーバーのオブジェクトが格納されます。
  - `cancel`: 操作をキャンセルするためのメソッドが格納されます。

  ポップオーバーの操作をキャンセルしたい場合は、下記のように記述します。

  ```javascript
  myPopover.on("preshow", function(e) {
    e.cancel();
  });
  ```
- `postshow`、`posthide`

  ポップオーバーを開いたり閉じた後に呼ばれます。コールバック関数には、`popover`プロパティを持つオブジェクトが返ります。

<h3 id="UsingPullHook">プルフックを使う</h3>

プルフックコンポーネントは、[`<ons-page>`](/reference/ons-page.html)や[`<ons-scroller>`](/reference/ons-scroller.html)コンポーネントに対して「Pull-To-Refresh（引っ張って更新する）」機能を提供するものです。外部ソース（データベース、RSSフィードやWeb APIなど）からデータを取得する場合に、この機能を便利に活用することができます。

<%- @partial('codepen.html.eco', { id: "WbJogM" } ) %>

<h4 id="ShowingPullHook">プルフックを表示する</h4>

プルフックコンポーネントを表示するには、[`<ons-pull-hook>`](/reference/ons-pull-hook.html)タグを使用します。

```html
<ons-pull-hook ng-action="load($done)" var="loader">
  <span ng-switch="loader.getCurrentState()">
    <span ng-switch-when="initial"><ons-icon size="35px" icon="ion-arrow-down-a"></ons-icon> 更新するにはプルダウンしてください</span>
    <span ng-switch-when="preaction"><ons-icon size="35px" icon="ion-arrow-up-a"></ons-icon> 手をはなしてください</span>
    <span ng-switch-when="action"><ons-icon size="35px" spin="true" icon="ion-load-d"></ons-icon> データを読み込んでいます...</span>
  </span>
</ons-pull-hook>
```

プルフックの動作は`ng-action="load($done)"`もしくは`on-action="load(done)"`属性にて指定します。指定した関数は、プルダウンされて、手を離したときに呼び出されます。

プルフックは3つの状態を持ち、それぞれ見た目をカスタマイズすることができます。

* `initial`: デフォルトの状態で、ユーザーが操作する前の状態です。指定した高さを超えてプルダウンされるまでは、この状態となります。

* `preaction`: 手を離したら実行に移れる状態です。この場合でも、上向きにドラッグをすることで、ユーザーは操作をキャンセルすることができます。

* `action`: 実行中の状態です。`$done()`関数が呼ばれたら`initial`状態に戻ります。

<h4 id="PullHookActions">プルフックのアクション</h4>

[`<ons-pull-hook>`](/reference/ons-pull-hook.html)コンポーネントには、実行する動作を定義するための属性として`ng-action`と`on-action`が用意されています。

* `ng-action`: プルダウンしたときの挙動を指定するために使用します。操作が完了した後で`$done()`関数を呼び出します。

* `on-action`: `ng-action`と同様の働きをしますが、AngularJSを使わずに記述できます。操作が完了した後で、`done`関数を呼び出します。

<h4 id="PullHookHeightParamenters">プルフックの高さパラメータ</h4>

[`<ons-pull-hook>`](/reference/ons-pull-hook.html)コンポーネントには、プルダウンしたときのしきい値を指定するための属性を指定できます。

* `height`: この属性でコンポーネントの高さを指定します。この値を超えてプルダウンを行った場合に`preaction`状態に遷移します。デフォルトは64pxです。

* `threshold-height`: 高さのしきい値を指定します。この値を超えてプルダウンを行った場合に`action`状態に遷移します。デフォルトの値は96pxです。マイナス値、もしくは`height`よりも小さな数値を指定した場合は、このプロパティが無効になります。

<h3 id="UsingFormComponents">フォームを使う</h3>

Onsen UIでは、フォームを構築するための様々なコンポーネントを用意しています。

<h4 id="Button">ボタン</h4>

[`<ons-button>`](/reference/ons-button.html)を用いて、さまざまな種類のボタンを表現できます。外見や挙動の変更には、`modifier`、`should-spin`、`animation`そして`disabled`属性で指定します。特に`modifier`属性を使用すると、あらかじめ定義されたいくつかの外見に合わせて見た目を変更できます。

タップされた場合の処理を記述するには、`onclick`もしくは`ng-click`属性を使用します。

<%- @partial('codepen.html.eco', { id: "hLayx" } ) %>

<h4 id="Switch">スイッチ</h4>

スイッチを表示するには、[`<ons-switch>`](/reference/ons-switch.html)を使用します。スイッチにはONとOFFの状態があり、その状態は`isChecked()`メソッドで取得できます。

```html
<script>
function changed() {
  alert(mySwitch.isChecked() ? 'ON' : 'OFF');
}
</script>
<ons-switch var="mySwitch" onchange="changed()"></ons-switch>
```

<h4 id="Textinput">テキスト入力</h4>

テキスト入力のためのコンポーネントはカスタムエレメント形式ではなく、あらかじめ定義されたクラス名を指定することでOnsen UIの外見に合わせることができます。

- テキスト入力

  ```html
  <input class="text-input" id="my-input">
  ```

- テキストエリア

  ```html
  <textarea class="textarea" id="my-textarea"></textarea>
  ```

- 検索ボックス

  ```html
  <input type="search" class="search-input">
  ```

どの場合においても、`document.getElementById()`やjQueryのセレクターを用いて、その値を取得できます。

```javascript
alert(document.getElementById("my-input").value);
alert($("#my-input").val());
```

<%- @partial('codepen.html.eco', { id: "qFbGp" } ) %>

<h4 id="Checkboxandradiobutton">チェックボックスとラジオボタン</h4>

チェックボックスとラジオボタンはCSSコンポーネントとして提供されます。下記のようにして、それぞれのコンポーネントを表示できます。

```html
<label class="checkbox">
  <input type="checkbox">
  <div class="checkbox__checkmark"></div>
  <span class="ons-checkbox-inner"></span>
</label>
```

```html
<label class="radio-button">
  <input type="radio">
  <div class="radio-button__checkmark"></div>
</label>
```

<h3 id="Layouting">レイアウト調整</h3>

Onsen UIのグリッドシステムを使うと、手軽にコンポーネントを画面上に配置できます。グリッドシステムは、表計算ソフトのように、画面を行と列に分割します。各グリッドの幅と高さは調整することができ、複数のグリッドを1つに結合することもできます。

<h4 id="onsrowandonscoloverview">`<ons-row>`と`<ons-col>`の概要</h4>

レイアウトの調整は、[`<ons-row>`](/reference/ons-row.html)と[`<ons-col>`](/reference/ons-col.html)コンポーネントを使用します。横幅と高さは柔軟に調整できます。

デフォルトでは、[`<ons-row>`](/reference/ons-row.html)コンポーネント内にあるすべての[`<ons-col>`](/reference/ons-col.html)コンポーネントは、同じ幅で表現されます。`<ons-col>`要素に対しては、個別に横幅を指定することができます。

[`<ons-row>`](/reference/ons-row.html)には`align`属性を、`<ons-col>`には`align`、`size`、`offset`属性を指定できます。`size`属性については、`px`もしくは`%`で指定できます。

<h4 id="Layoutexample">レイアウトの例</h4>

下記の例では、[`<ons-row>`](/reference/ons-row.html)と[`<ons-col>`](/reference/ons-col.html)を用いて様々なレイアウトを表現しています。

<%- @partial('codepen.html.eco', { id: "GgujC" } ) %>

<h3 id="UsingIcons">アイコンを使う</h3>

Onsen UIは、[Font Awesome](http://fontawesome.github.io/)の400以上のアイコン、そして[Ionicons](http://ionicons.com/)の500以上のアイコンを使うことができます。

<h4 id="onsiconoverview">`<ons-icon>`の概要</h4>

アイコンを表示するには、[`<ons-icon>`](/reference/ons-icon.html)コンポーネントを使用します。表示するアイコンは、`icon`属性で指定します。

<h5>Font Awesomeアイコンを使用する</h5>

`icon`属性の値が`fa-`で始まっている場合は、Font Awesomeのアイコンセットが使用されます。利用可能なアイコンの一覧は、[Font AwesomeのWebサイト](http://fortawesome.github.io/Font-Awesome/icons/)にて確認できます。また、`icon`属性に接頭辞が付与されていない場合にも、Font Awesomeのアイコンセットが使用されます。

<h5>Ioniconsアイコンを使用する</h5>

`icon`の値が`ion-`で始まっている場合は、Ioniconsアイコンセットが使用されます。利用可能なアイコンの一覧は、[IoniconsのWebサイト](http://ionicons.com/)を参照してください。

下記にいくつかの例を紹介します。

```html
<ons-icon icon="fa-angle-left"></ons-icon>
<ons-icon icon="fa-angle-left" size="40px"></ons-icon>
<ons-icon icon="fa-angle-left" size="40px" rotate="90"></ons-icon>
<ons-icon icon="fa-angle-left" spin="true"></ons-icon>
```

アイコンの大きさは`size`属性で指定できます。

```html
<ons-icon icon="fa-angle-left" size="40px">
```

アイコンを回転させることもできます。

```html
<ons-icon icon="fa-angle-left" size="40px" rotate="90deg">
```

アイコンにアニメーションを適用することも可能です。スピナー画像等の表示に有効です。

```html
<ons-icon icon="fa-angle-left" spin="yes">
```

<%- @partial('codepen.html.eco', { id: "xAhvg" } ) %>

<h3 id="Multiscreensupport">マルチスクリーンへの対応</h3>

Onsen UIはレスポンシブデザインに対応しているため、スクリーンサイズに応じてCSSスタイルの適用を切り替えることができます。ここではCSSメディアクエリーを用いる方法について紹介します。

また、Onsen UIではスプリットビューというコンポーネントも提供します。このコンポーネントを用いると、横向きや大画面のデバイスでは2カラムのレイアウトを、それ以外の場合は1カラムのレイアウトに自動的に切り替えます。CSSスタイルを定義することなく、スマートフォンとタブレットの両方に対応したアプリを簡単に開発できます。

<h4 id="UsingCSSMediaQuery">CSSメディアクエリーの概要</h4>

CSSメディアクエリーを用いることで、画面サイズやアスペクト比、解像度などに応じてCSS定義を切り替えることができます。

下記のCSSメディアクエリーは画面サイズに応じてCSSの定義を切り替える例となります。

```html
<style>
@media (min-width:320px) { /* スマートフォン、iPhoneなど */ }
@media (min-width:641px) { /* iPad縦、大きな画面を持つスマートフォンなど */ }
@media (min-width:961px) { /* タブレットやiPad横向きなど */ }
@media (min-width:1025px) { /* より大きな画面サイズ */ }
@media (min-width:1281px) { /* デスクトップや高解像度のデバイス */ }
</style>
```

<%- @partial('codepen.html.eco', { id: "lGbrB" } ) %>

<h4 id="Usingonssplitviewcomponent">`<ons-split-view>`コンポーネントを使う</h4>

[`<ons-split-view>`](/reference/ons-split-view.html)コンポーネントを用いると、画面を2分割して別々のページを表示することができます。

また、画面サイズが小さい時にはサイドページを非表示にすることができます。そうすることで、スマートフォンとタブレットの両方の端末に簡単に対応できます。

[`<ons-split-view>`](/reference/ons-split-view.html)コンポーネントでは下記の属性が提供されます。

- `main-page`: メイン側に表示するページを指定できます
- `secondary-page`: サイド側に表示するページを指定できます

<%- @partial('codepen.html.eco', { id: "nKqfv" } ) %>

<h4 id="Specifywhentocollapse">サイドページの非表示設定</h4>

[`<ons-split-view>`](/reference/ons-split-view.html)の`collapse`属性を用いて、サイドページを非表示にする条件を指定できます。この属性が取り得る値として、`portrait`、`landscape`もしくは`width ##px`（例`width 300px`）などの指定方法があります。たとえば、`portrait`が指定されていて、かつ、端末が縦向きの画面になっていた場合は、サイドページは非表示になります。

<h3 id="LoadingPlaceholder">読み込み中画面を表示する</h3>

Onsen UIが必要なフレームワーク一式の読み込みを完了するまで、読み込み中画面を表示することができます。これはOnsen UIをWebアプリケーションで使用する場合に便利です。`ons-loading-placeholder`属性を持つ要素は、Onsen UIの読み込みが完了した時点で、`ons-loading-placeholder`要素が参照するテンプレートに置き換わります。

```html
<body>
  <div ons-loading-placeholder="start.html">
     アプリケーションの読み込みを行っています...
  </div>
  <ons-template id="start.html">
    <div>アプリケーションへようこそ!</div>
  </ons-template>
</body>
```

<h3 id="UtilityAPIs">ユーティリティAPI</h3>

ほかにも、Onsen UIを用いた開発をしやすくするためのユーティリティAPIも提供しています。

<h4 id="onsreadyfunction">`ons.ready`関数</h4>

`ons.ready()`関数は、Onsen UIの初期化が完了したときに呼ばれます。CordovaやPhoneGapが使われている場合は、デバイスの初期化（`ondeviceready`イベント）の後に実行されます。

この関数を用いると、ページ読み込み中のブランクスクリーンを表示せずに、スプラッシュ画面を動的に非表示にすることができます。たとえば、下記の例はOnsen UIの読み込みが完了するまで、スプラッシュスクリーンを表示したままにするコードとなります。

```javascript
ons.ready(function() {
  // Onsen UIが読み込み終わるまでスプラッシュ画像を表示したままにする
  // APIリファレンス: https://github.com/apache/cordova-plugin-splashscreen/blob/master/doc/index.md
  navigator.splashscreen.hide()
});
```

<h4 id="onsbootstrapfunction">`ons.bootstrap`関数</h4>

`ons.bootstrap()`関数を用いると、1行でOnsen UIの読み込みを行います。この関数は、AngularJSにOnsen UIのモジュールを追加し、どのスコープからでもOnsen UIを呼び出せるようにします。`onsenui.js`の読み込みが完了した後に呼び出してください。

たとえば、下記のコードはOnsen UIと共に`ngAnimate`モジュールを読み込みます。引数には、読み込みたいモジュールの一覧を指定できます。 `ons.bootstrap()`関数の引数では、読み込みたいAngularJSのモジュールを配列形式で指定できます。

```html
<script>
  var module = ons.bootstrap(['ngAnimate']); // ngAnimateモジュールも読み込む
  module.controller("TopController", function($scope){ });
</script>
```

`ons.bootstrap()`関数を使用する際は、モジュール名を指定することもできます。

```html
<script>
  ons.bootstrap('myApp', ['ngAnimate']); // Optionally loading ngAnimate module
  angular.module('myApp').controller("TopController", function($scope){ });
</script>
```

よりAngularJSに準拠した記述で表記する場合は、`onsen`モジュールを読み込みます。

```html
<script>
  // 'ng-app'が'my-app'と定義されている場合の例
  var module = angular.module('my-app', ['onsen']);
  module.controller('AppController', function($scope) { });
  module.controller('PageController', function($scope) {
    ons.ready(function() {
      // 初期化コードをここに記述します
    });
  });
</script>
```

<h4 id="onscompilefunction">`ons.compile`関数</h4>

`ons.compile()`関数は、Onsen UIコンポーネントが含まれているDOM要素をコンパイルするために使用します。JavaScriptでHTMLを組み立て、描画するときに使用します。

なお、`ons.compile()`関数の引数には、`HTMLElement`オブジェクトを指定する必要があります。また、指定する要素は、`ons.compile()`関数を呼び出す前にDOMツリー上に配置されていいなければなりません。下記の例を参照してください。

```javascript
ons.ready(function() {
  var elm = $("<ons-button>新規ボタン</ons-button>");
  elm.appendTo($("body")); // DOMツリーに追加する
  ons.compile(elm[0]); // 引数はHTMLElementオブジェクトとして指定する
});
```

<h4 id="disableautostatusbarfill">`ons.disableAutoStatusBarFill`関数</h4>

iOS 7以降では、ステータスバーをWebViewの上に重ねることができます。Onsen UIでは、自動的にその余白を作り、アプリの表示領域の最適化を行います。ただし、Cordovaの[StatusBarプラグイン](https://github.com/apache/cordova-plugin-statusbar)を用いる場合などにおいては、ユーザーがステータスバーの配置を制御することができるため、必ずしもこの余白が必要ではありません。

Onsen UIでは余白の制御を行うために、`ons.enableAutoStatusBarFill`関数および`ons.disableAutoStatusBarFill`関数を提供しています。デフォルトでは、余白制御が有効になっています。変更する場合は、Onsen UIの初期化が完了する前（`ons.ready()`イベントが呼ばれる前）に関数を呼び出してください。

```javascript
/**
 * Onsen UI初期化中にコールする必要があります
 */

// 余白制御を無効にする
ons.disableAutoStatusBarFill();

// 余白制御を有効にする
ons.enableAutoStatusBarFill();

ons.ready(function() { });
```

<h4 id="Platformdetection">プラットフォームの判定</h4>

[`<ons-if-platform>`](/reference/ons-if-platform.html)属性を用いるか、`ons.platform`オブジェクトを用いて、特定のプレットフォームに応じたコンテンツのだし分けを記述できます。

[`<ons-if-platform>`](/reference/ons-if-platform.html)属性を使うと、特定の要素に対してプラットフォーム別の出し分けを記述できます。

```html
<div ons-if-platform="ios">iPhoneとiPadユーザーだけのコンテンツ</div>
```

また、`ons.platform`オブジェクトを用いると、JavaScriptコードでプラットフォームの判定が行えます。

- `ons.platform.isWebView()`: WebView上で実行されている場合に`true`を返します。
- `ons.platform.isIOS()`: iOSデバイス上で実行されている場合に`true`を返します。
- `ons.platform.isAndroid()`: Androidデバイス上で実行されている場合に`true`を返します。
-  `ons.platform.isIPhone()`: iPhoneデバイス上で実行されている場合に`true`を返します。
-  `ons.platform.isIPad()`: iPadデバイス上で実行されている場合に`true`を返します。
-  `ons.platform.isBlackBerry()`: BlackBerryデバイス上で実行されている場合に`true`を返します。
-  `ons.platform.isOpera()`: Operaブラウザー上で実行されている場合に`true`を返します。
-  `ons.platform.isFirefox()`: Firefoxブラウザー上で実行されている場合に`true`を返します。
-  `ons.platform.isSafari()`: Safariブラウザー上で実行されている場合に`true`を返します。
-  `ons.platform.isChrome()`: Chromeブラウザー上で実行されている場合に`true`を返します。
-  `ons.platform.isIE()`: Internet Explorerブラウザー上で実行されている場合に`true`を返します。
-  `ons.platform.isIOS7()`: iOS 7以降のブラウザーもしくはWebViewだった場合に`true`を返します。

<h4 id="Landscapeportraitdetection">画面向きの判定</h4>

`ons-if-platform`属性と同様、[`<ons-if-orientation>`](/reference/ons-if-orientation.html)属性を用いると、画面の向きに応じて画面表示を切り替えられます。

```html
<div ons-if-orientation="portrait">縦向きの時だけ表示するコンテンツ</div>
```

<h3 id="DetectingFingerGestures">ジェスチャーの対応</h3>

ジェスチャーを検知して特定の処理を行わせることができます。Onsen UIでは、ジェスチャーの認識に[Hammer.js](http://hammerjs.github.io/)を使用しています。

ジェスチャーを検知するには、対象となるDOM要素を[`<ons-gesture-detector>`](/reference/ons-gesture-detector.html)コンポーネントで囲みます。たとえば、下記は特定の場所に対して左スワイプの検知を有効にした例となります。

```html
<ons-gesture-detector>
  <div id="detect-area" style="width: 100px; height: 100px;">
    ここをスワイプ
  </div>
</ons-gesture-detector>
<script>
  $(document).on('swipeleft', '#detect-area', function() {
    console.log("左スワイプが検知されました");
  })
</script>
```

AngularJS方式で記述する場合は、`ng-ジェスチャーイベント名`属性を使用します。

```html
<ons-gesture-detector ng-swipeleft="doSomething()">
  <div id="detect-area" style="width: 100px; height: 100px;">
    ここをスワイプ
  </div>
</ons-gesture-detector>
```

<h4 id="SupportedGestures">対応するジェスチャー</h4>

下記のジェスチャーに対応しています。

  - ドラッグ操作: `drag`, `dragleft`, `dragright`, `dragup`, `dragdown`
  - ホールド操作: `hold`, `release`
  - スワイプ操作: `swipe`, `swipeleft`, `swiperight`, `swipeup`, `swipedown`
  - タップ操作: `tap`, `doubletap`
  - ピンチ操作: `pinch`, `pinchin`, `pinchout`
  - その他: `touch`, `transform`, `rotate`

<h3 id="KeyboardHandling">ソフトキーボードの対応</h3>

ソフトウェアキーボードの状態に応じて、特定のコードを実行したり、見た目を切り替えたい場合があります。Onsen UIでは、[Cordova Keybord Plugin](https://github.com/apache/cordova-plugins/tree/master/keyboard)もしくは[Ionic Keyboard Plugin](https://github.com/driftyco/ionic-plugins-keyboard)を組み込んだ場合に、キーボードイベントを検知することができます。

[`<ons-keyboard-active>`](/reference/ons-keyboard-active.html)もしくは[`<ons-keyboard-inactive>`](/reference/ons-keyboard-inactive.html)属性を用いると、キーボードの状態に応じてコンテンツのだし分けを行うことができます。

```html
<div ons-keyboard-active>
  キーボードが表示されている時に表示されるコンテンツです。
</div>
<div ons-keyboard-inactive>
  キーボードが隠れている時に表示されるコンテンツです。
</div>
```

JavaScriptでキーボードの状態を取得するには、`ons.softwareKeyboard`オブジェクトを使用できます。

```javascript
// CordovaとIonic　Keyboard Pluginの両方に対応しています
ons.softwareKeyboard.on('show', function() {
  //　キーボードが表示された場合の処理
});
ons.softwareKeyboard.on('hide', function() {
  // キーボードが隠れた場合の処理
});
```

<h3 id="HandlingBackButton">戻るボタンの対応</h3>

Androidはハードウェアの戻るボタンが備わっています。Onsen UIでは、戻るボタンがクリックされたときの挙動をカスタマイズすることができます。

端末の戻るボタンに対応するためには、[`<ons-page>`](/reference/ons-page.html)コンポーネントの`on-device-backbutton`もしくは`ng-device-backbutton`属性を使用します。下記は、`ons-page`の属性に戻るボタンのハンドラーを定義した例となります。

```html
<ons-page on-device-backbutton="doSomething()">
  ページのコンテンツ
</ons-page>
```

AngularJS形式で記述すると、下記のようになります。

```html
<ons-page ng-device-backbutton="doSomething()">
  ページのコンテンツ
</ons-page>
```

もしくは、`ons-page`のAPIを用いて、下記のように戻るボタンのハンドラーを定義することもできます。

```html
<ons-page var="myPage">...</ons-page>
<script>
  ons.ready(function() {
    myPage.setDeviceBackButtonHandler(function() {
      // ここに処理の内容を記述する
    });

    // 戻るボタンのハンドラーを取得して無効化する
    var handler = myPage.getDeviceBackButtonHandler();
    handler.disable();
  });
</script>
```

<h4 id="Overridingdefaultcomponenthandler">デフォルトのコンポーネントハンドラーを上書きする</h4>

`ons-page`コンポーネントだけでなく、`ons-navigator`と`ons-sliding-menu`コンポーネントについは、デフォルトで戻るボタンのハンドラーが定義されています。たとえば、`ons-navigator`では、戻るボタンが押された場合は、`popPage()`を実行します。この仕組みを無効にしたり、挙動を変更したい場合は、`getDeviceBackButtonHandler()` APIを使用します。

```javascript
// ナビゲーターの戻るボタンを無効化する
navigator.getDeviceBackButtonHandler().disable();

// もしくは、挙動を変更する
navigator.getDeviceBackButtonHandler().setListener(function(event) {});

// もしくは、再度有効にする
navigator.getDeviceBackButtonHandler().enable();
```

この通り、`getDeviceBackButtonHandler()` APIが戻すオブジェクトは、`disable()`、`enable()`、`isEnabled()`そして`setListener(fn)`メソッドを有しています。

親のイベントハンドラーに処理を委譲する場合は、`callParentHandler()`メソッドを呼び出します。もしコンポーネントのハンドラーが定義されていなかったり、無効化されている場合は、親のイベントハンドラーが自動的に呼び出されます。

```javascript
myPage.getDeviceBackButtonHandler().setListener(function(event) {
  // 親のイベントハンドラーを呼び出す
  event.callParentHandler();
});
```

<h4 id="Overridingthedefaultapphandler">デフォルトのアプリハンドラーを上書きする</h4>

Onsen UIアプリでは、デフォルトで戻るボタンが押されると、アプリを閉じる挙動を行います。これは、ほかのAndroidアプリと同じ挙動になります。

デフォルトの挙動を変更するには、`ons.setDefaultDeviceBackButtonListener`関数を呼び出します。下記のコードは、アプリを閉じる前に確認を行う例となります。

```javascript
ons.setDefaultDeviceBackButtonListener(function() {
  if (navigator.notification.confirm("本当に閉じてもいいですか？",
    function(index) {
      if (index == 1) { // OKボタンが押された
        navigator.app.exitApp(); // アプリを閉じる
      }
    }
  ));
});
```

<h4 id="Disablingbackbuttonhandler">戻るボタンの処理を無効化する</h4>

Onsen UIの戻るボタンの処理を完全に無効化するには、`ons.disableDeviceBackButtonHandler()`関数を呼び出します。これは、CordovaやPhoneGapのイベントを直接扱いたい場合に便利です。

```javascript
ons.ready(function() {
  ons.disableDeviceBackButtonHandler();

  // Cordovaのハンドラーを使用する
  window.document.addEventListener('backbutton', function() {
    // 戻るボタンが押された時の処理
  }, false);
});
```

<h3 id="CallingComponentAPIsfromJavaScript">JavaScriptからコンポーネントのAPIを呼び出す</h3>

コンポーネントのなかには、JavaScript関数を備えているものがあります。たとえば、`ons-navigator`は`pushPage()`と`popPage()`メソッドが用意されており、それぞれページを追加したり削除したりする目的で使用します。

コンポーネントのAPIを呼び出す場合は、JavaScriptコードからコンポーネントを参照します。そのために、コンポーネントの`var`属性を指定するか、`ons.findComponent()`あるいは`ons.findParentComponentUntil()`関数を使用します。

<h4 id="UsingVarAttributeToSpecifyAComponent">`var`属性でコンポーネントを指定する</h4>

APIを呼び出すには、`var`属性でコンポーネントを変数に割り当てます。たとえば、下記の例では`"myNavigator"`という名前の変数でコンポーネントを参照できます。

```html
<ons-navigator var="myNavigator">
```

これで、`myNavigator`変数はJavaScriptコードのどこからでもアクセスできるようになりました。より正確には、`myNavigator`は`window`オブジェクトのプロパティとして、そして、AngularJSのグローバルスコープとして定義されています。

そのため、JavaScriptを直接用いたり、jQueryを使って変数を呼び出す場合は、下記のコードで動作します。

```html
<script>
  myNavigator.pushPage('newpage.html');
</script>
```

AngularJSを用いる場合は、下記のようにして実行できます。

```html
<script>
  module.controller("PageController", function($scope) {
    ons.ready(function() {
      // Actually myNavigator object sits in the root scope
      $scope.myNavigator.pushPage("newpage.html");
    });
  });
</script>
```

<h5 id="ChangingComponentBase">コンポーネントの基底オブジェクトを変更する</h5>

上記の通り、`var`属性で定義されたコンポーネントは、`window`オブジェクトにそのプロパティが作成されます。グローバルスコープの汚染が気になる場合は、対象オブジェクトを変更することができます。

下記の例は、`onsenComponents`という名前の変数に、コンポーネントの基底オブジェクトを変更しています。

```
var onsenComponents;
ons.componentBase = onsenComponents;
```

こうすることで、下記のようにコンポーネントにアクセスすることができます。

```
onsenComponents.myNavigator.doSomething();
```

<h4 id="UsingVarAttributeToSpecifyAComponent">DOMツリーからコンポーネントを検索する</h4>

`ons.findComponent()`および`ons.findParentComponentUntil()`関数を使うと、変数を割り当てずにコンポーネントを参照することができます。

<h5>ons.findComponent(selector, dom)</h5>

`ons.findComponent()`関数は、渡されたDOM内にあるコンポーネントを検索します。たとえば、`id`が`my-switch`の`ons-switch`コンポーネントを検索したい場合は、下記のコードを記述します。

```javascript
var mySwitch = ons.findComponent('ons-switch#my-switch', document.body);
```

<h5>ons.findParentComponentUntil(componentName, element)</h5>

`ons.findParentComponentUntil()`関数は、親DOMノードを探索してコンポーネントを検索します。たとえば、下記の例では、指定したボタンの要素を持つナビゲーターを検索しています。

```javascript
var currentNavigator = ons.findParentComponentUntil('ons-navigator', buttonDom);
```

<h3 id="DealingwithDOMAPIs">DOM APIの利用</h3>

Onsen UIのコンポーネントはCustom Elements形式ではありますが、DOM APIを使って呼び出すこともできます。

```html
<ons-navigator class="myNavigator"></ons-navigator>
<ons-button id="my-ons-button"</ons-button>
<ons-list>
  <ons-list-item class="item1"></ons-list-item>
</ons-list>
<script>
  // DOM APIの利用例
  document.getElementById("my-ons-button");

  // jQueryの利用例
  $("ons-navigator.myNavigator");
  $("ons-list-item.item1");
  $("ons-button").onclick(function() {
    alert("Buttonがクリックされました!");
  });
</script>
```

<h3 id="EventHandling">イベントの利用</h3>

コンポーネントのなかには、イベントに対応したものがあります。イベントを使うと、コンポーネントの挙動を上書きし、挙動をカスタマイズすることができます。

それぞれのコンポーネントがサポートしているイベントの一覧については、コンポーネントのページを参照してください。
`<ons-navigator>`は、[これらのイベント](/reference/ons-navigator.html#events-summary)を発します。

イベントにハンドラーを追加するには、コンポーネントの`on()`、`off()`および`once()`メソッドを使用します。そのために前述の通り、コンポーネントに変数を割り当てる必要があります。

```html
<script>
myNavigator.on("prepush", function() {
  // prepushイベントのハンドラーを記述する
});
</script>

<script>
// on()とoff()メソッドの使用例
var callback = function(event) {
}
myNavigator.on("prepush", callback);
myNavigator.once("prepush", callback);
myNavigator.off("prepush", callback);
</script>
```

<h4 id="Tapclickevent">タップとクリックのイベント</h4>

コンポーネントに対するアクションとして、最も使われるのはタップの検出です。タップやクリックの検出には、`onclick`ハンドラーを使用します。

```html
<ons-button onclick="alert('タップされました')">ここをタップ</ons-button>
```

AngularJSのイベント処理に精通している方は、`ng-click`ハンドラーも使用できます。

```html
<ons-button ng-click="alert('タップされました')">ここをタップ</ons-button>
```

どちらの場合でも、fastclickライブラリーを用いることで、イベントの検出に300msの遅延は発生しません。そのため、すばやくユーザーの挙動に反応します。

<h4 id="Attributeevents">イベントハンドラ属性</h4>

コンポーネントのイベントハンドラは、HTML属性を使って追加することもできます。それらの属性は全て、イベント名の前に`ons-`が付いた名前になります。`<ons-navigator>`の発した`prepop`イベントを捉えるには、`ons-prepop`属性を使います。

```html
<ons-navigator ons-prepop="doSomething()">
  ...
</ons-navigator>
```

属性の値はAngularの式である必要があります。そのため、AngularJSを使用していないときは、これらの属性を使うことはできません。

<h4 id="Pageinitevent">ページ初期化のイベント</h4>

[`<ons-page>`](/reference/ons-page.html)の初期化が完了すると、`pageinit`イベントが発生します。このイベントを用いて、各ページの挙動を変更してください。

```html
<script>
document.addEventListener("pageinit", function(e) {
  if (e.target.id == "my-page") {
    document.getElementById("my-content").innerHTML = "私は元気です。";
  }
}, false);
</script>

<ons-page id="my-page">
  <div>ようこそ。元気ですか？</div>
  <div id="my-content">ここが変更されます</div>
</ons-page>
```

<h4 id="ComponentInitEvent">コンポーネントのDOMイベント</h4>

すべてのコンポーネントは、初期化時に`ons-component-name:init`イベントを発行します。このイベントを用いると、コンポーネントを初期化した直後に特定の処理を記述できます。初期化されたコンポーネントは、コールバック関数にて`component`プロパティとして取得できます。

```javascript
$(document).on('ons-navigator:init', '#my-navigator', function(event) {
   var navigator = event.component;
   navigator.pushPage('login.html');
});
```

他の全てのコンポーネントイベントはDOMイベントとしても発火され、イベント名の前にはコンポーネント名が付きます。このDOMイベントは、コンポーネントイベントの全てのプロパティを継承します。

```javascript
$(document).on('ons-dialog:preshow', '#my-dialog', function(event) {
  if (dontShowDialog()) {
    event.cancel();
  }
});
```

<h4 id="Componentevents">コンポーネントのイベント</h4>

[`<ons-navigator>`](/reference/ons-navigator.html)、[`<ons-sliding-menu>`](/reference/ons-sliding-menu.html)、[`<ons-tabbar>`](/reference/ons-tabbar.html)の3コンポーネントはユーザー処理の前後にイベントを提供します。詳細については、各コンポーネントのドキュメントを参照してください。

<h3 id="DefiningMultiplePagesinSingleHTML">複数のページを1つのHTMLに記述する</h3>

いくつかのコンポーネントは、別のHTMLページを指定する必要があります。たとえば、`<ons-sliding-menu>`コンポーネントは、下記のように別途定義されたページを指定します。

```html
<ons-sliding-menu
  menu-page="menu.html"
  main-page="content.html">
</ons-sliding-menu>
```

menu.htmlとcontent.htmlを別ファイルとして作成することなく、同じページでコンテンツを定義することができます。そのためには、[`<ons-template>`](/reference/ons-template.html)タグを使用するか、`script`タグを作成し、その`type`属性を`"text/ons-template"`と指定します。これはマイクロテンプレーティングとも言われ、ページファイルの数を減らすことができます。

<h4 id="OnsTemplateTag">`<ons-template>`タグを用いてテンプレートを定義する</h4>

[`<ons-template>`](/reference/ons-template.html)タグはテンプレートを表します。たとえば、`main.html`という名前を持つHTMLコンテンツを定義するには、下記のように記述します。

```html
<ons-template id="main.html">
  <!-- main.htmlのコードを記述します -->
  <div>
    これはmain.htmlのコンテンツです
  </div>
</ons-template>
```

<h4 id="OnsTemplateScript">`<script>`タグを用いてテンプレートを定義する</h4>

もう一つの方法として、`script`タグを作成し、その`type`属性を`"text/ons-template"`と指定することができます。

```html
<script type="text/ons-template" id="main.html">
  <!-- main.htmlのHTMLコンテンツを定義します -->
  <div>
    これはmain.htmlのコンテンツです
  </div>
</script>
```

<h4 id="AngularJSTemplateCache">AngularJSの`$templateCache`を使用する</h4>

上記で定義したテンプレートは、AngularJSのテンプレートキャッシュとしても使用でき、`$templateCache`サービスから呼び出せます。詳細は、[AngularJSのドキュメント](https://docs.angularjs.org/api/ng/service/$templateCache)を参照してください。

<h3 id="UsingModifier">Modifierを使用する</h3>

Modifierを用いると、Onsen UIのコンポーネントの外見を簡単にカスタマイズすることができます。`modifier`属性が用意されたコンポーネントは、クラス名に任意の名前空間を定義し、カスタムなスタイルを適用することができます。コンポーネントのなかには、あらかじめ定義されたModifierが定義されていることもあります。

たとえば、下記のボタンはそれぞれ異なる外見となります。

```html
<ons-button modifier="quiet">Quiet</ons-button>
<ons-button modifier="light">Light</ons-button>
<ons-button modifier="large">Large</ons-button>
<ons-button modifier="cta">CTA</ons-button>
```

JavaScriptを用いてModifierを動的に切り替えることもできます。`modifier`属性を持つすべてのコンポーネントでは、下記のメソッドが提供されます。

- `hasModifier(name)`: 指定した名前のModifierを有していれば`true`を返します。スペース区切りで複数のModifier名を指定した場合は、すべてのModifierを有していた場合にtrueを返します。
- `removeModifier(name)`: 指定した名前のModifierを取り除きます。
- `addModifier(name)`: 指定した名前のModifierを追加します。
- `setModifier(name)`: すべてのModifierを削除し、`name`で指定したModifierを追加します。
- `toggleModifier(name)`: Modifierの追加もしくは削除を行います。

<h3 id="CustomizeOnsenUIcomponents">Onsen UIコンポーネントのカスタマイズ</h3>

Onsen UIコンポーネントには、いくつかのカスタマイズ方法が用意されています。たとえば、ルック＆フィールの変更や、コンポーネントのCSSの直接記述、そしてJavaScriptやHTMLコードの変更などです。

<h4 id="Customizingitslookandfeel">ルック＆フィールのカスタマイズ</h4>

Onsen UIのスタイルは`onsenui.css`と`onsen-css-components.css`という2つのファイルで定義されています。これらのファイルには、コンポーネントのすべての定義が記述されており、ファイルを直接変更することができます。

もしくは、[Onsen UIテーマローラー](http://components.onsen.io/)を用いると、自由にカラースキームを変更できます。カスタマイズが完了したら、`onsenui-css-components.css`を上書きするだけで変更点を反映できます。

<h4 id="OverridingCSSstyles">CSSスタイルのオーバーライド</h4>

コンポーネントに対して、標準とは別のスタイルを割り当てたい場合があります。こういう場合には、`modifier`属性を用いることで、スタイル定義をオーバーライドすることができます。

たとえば、特定のボタンに対して太い枠をつけたい場合は、下記のようにして`modifier`属性を定義します。

```html
<ons-button modifier="thick">Thick Button</ons-button>
```

次に`style`タグなどで、下記のように個別にスタイルを定義します。

```html
<style>
.button--thick {
  border: 10px;
}
</style>
```

<h4 id="CustomizingunderlyingHTML">HTMLのカスタマイズ</h4>

コンポーネントが持つHTMLをカスタマイズする場合は、AngularJSについて理解する必要があります。AngularJSでは、ディレクティブという機能を用いて、HTMLとJavaScriptを組み合わせて1つのタグを形成します。

各コンポーネントのHTMLコードは、フレームワークの`templates`ディレクトリ以下に配置されます。たとえば、`<ons-button>`のHTMLコードは`framework/templates/button.tpl`にあります。

```html
<button class="{{item.animation}} button--{{onsType}} effeckt-button button no-select {{modifierTemplater('button--*')}}">
  <span class="label ons-button-inner" ng-transclude></span>
  <span class="spinner button__spinner {{modifierTemplater('button--*__spinner')}}"></span>
</button>
```

テンプレートファイルを変更したら、Onsen UIをビルドし直す必要があります。なぜなら、すべてのテンプレートはキャッシュされ、`framework/directives/templates.js`ファイルに格納されているためです。詳しくは、[Onsen UIのビルド]()を参照してください。

<h4 id="CustomizingJavaScriptcode">JavaScriptコードのカスタマイズ</h4>

各コンポーネントのJavaScriptコードは、`directives`ディレクトリに配置されます。

<h4 id="BuildingOnsenUI">Onsen UIのビルド</h4>

Onsen UIでは、ビルドシステムとして`gulp`を使用しています。ビルド方法の詳細については、[プロジェクトのWebサイト](https://github.com/OnsenUI/OnsenUI)を参照してください。

<% end %>

<script defer src="<%= @rootUrl %>scripts/codepen.js"></script>

